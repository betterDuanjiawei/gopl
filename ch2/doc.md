# 2.程序结构
* go语言的大程序都是从小的基本组件构建来的
    * 变量存储值;
    * 简单的表达式通过加或减等操作合成大的;
    * 基本类型通过数组或结构体进行聚合;
    * if for等流程控制语句来决定执行的顺序;
    * 语句被组织成函数用于复用和隔离
    * 函数被组织成源文件和包
## 名称
* 命名规则:以字母或_开头,后面可以跟任意数量的字符 下划线 数字,区分大小写 heapSort Heapsort 是不同的名称
* go 有25个关键字,只能用在语法允许的地方,不能用作名称
```cassandraql
break       default         func        interface       select
case        defer           go          map             struct
chan        else            goto        package         switch
const       fallthrough     if          range           type
contiue     for             import      return          var
```
* 30多个内置的预声明的常量 类型 函数, 可以声明,但是要注意冲突的风险
```cassandraql
常量: true false iota nil
类型: int int8 int16 int32 int64
    uint uint8 uint16 uint32 uint64 uintptr
    float32 float64 complex128 complex64
    bool byte rune string error
函数: make append delete close len cap copy new
    complex real imag
    panic recover
    
```
* 如果一个实体在函数内部声明,那么它只在函数局部有效,如果声明在函数外,它将对包里的所有源文件可见,实体的第一个字母的大小写决定其可见性是否跨包,
* 以大写字母开头,它是可以导出的,意味着它对包内和包外都可见,可以被包外的其他程序所引用
* 包名本身总是由小写字母组成
* 名称 go 偏向短名称, 作用域较小的变量 i,名称的作用域越大,就是用越长而且有意义的名称
* 驼峰法,用大写字母, 不用下划线法

## 声明
* 声明给程序实体命名,并设定其一部分或全部属性,主要的4种声明: 变量 var 常量 const 类型 type 函数 func
* .go 结尾文件, package 开头 import 导入,包级别的类型 变量 常量 函数,不区分顺序,
* 函数的声明包含一个名字 一个参数列表(由函数的调用者提供的变量) 一个返回值列表 函数体(包含具体逻辑),如果函数不返回任何内容,则返回值列表可以省略,函数的执行从第一个语句开始,直到遇到一个返回语句,或执行到无返回结果的函数的结尾.
* 常量的声明没有:,const pi = 3.1415

## 变量
* var 声明创建一个具体类型的变量,然后给它附加一个名字,设置它的初始值,通用形式:
`var name type = expression(表达式)`
类型和表达式可以省略一个,但是不可都省略,如果只省略类型,它类型由初始化表达式决定,如果表达式省略,其初始值对应于类型的零值,
    * 数字:0
    * 字符串:""
    * 接口和引用类型(slice map chan point func):nil
    * 数组和结构体这样的复合类型,零值是其所有元素或成员的零值
* 零值机制保证了所有的变量都是良好定义的,go不存在未初始化的变量,
* 忽略类型声明允许声明不同类型变量 `var a, b, c, d = 1, "djw", true, 2.3`
* 初始值的设定可以是字面量或者任何表达式
* 包级别的初始化在 main开始之前进行,局部变量初始化和声明在函数执行期间进行
* 变量可以通过调用返回多个值的函数进行初始化 `var f, err = os.Open(file)`

### 短变量声明
* 在函数中,短变量声明可以用来声明和初始化局部变量,`name := expression` name 的类型由 expression的类型决定,
* 短小灵活,局部变量的声明和初始化主要是短变量声明,
* 多个初始化表达式: 多个变量同时声明初始化 `i, j := 1, 2`
* := 声明 = 赋值
* 交换值 `i, j = j, i`
* 短变量声明不需要声明所有在左边的变量,如果一些变量已经在语法块中声明,那么对于那些变量,短声明的方式等同于赋值
* 短变量声明最少声明一个变量,否则编译无法通过

### 指针
* 变量是存储值的地方
* 指针的值是变量的地址,不是所有的值都有地址,但是所有变量都有,使用指针,可以在无须知道变量名的情况下,间接更新和读取变量的值
* var x int, &x(x 的地址)获取了一个指向整型变量的指针,它的类型是整形指针(*int), *p 变量,可以出现在赋值操作符的左边,更新变量
```cassandraql
x := 1
p := &x
*p = 2 // x = 2
```
* 每一个聚合类型变量的组成(数组的元素或者结构体的成员)都是变量,都有一个地址
* 指针类型的零值是 nil  p != nil, true 说明指向一个变量,
* 指针是可比较的,只有两个指针指向同一个变量或者都为 nil 时候才相等
* 

